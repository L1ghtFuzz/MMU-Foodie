{% extends "base.html" %}
{% block title %}Sign Up{% endblock %}

{% block content %}
<style>
  body {
    font-family: Arial, Helvetica, sans-serif;
    background-color: black;
  }

  .container {
    padding: 16px;
    background-color: white;
  }

  input[type=text], input[type=password], input[type=email] {
    width: 100%;
    padding: 15px;
    margin: 5px 0 22px 0;
    display: inline-block;
    border: none;
    background: #dacfcf;
  }

  input:focus {
    background-color: #ddd;
    outline: none;
  }

  hr {
    border: 1px solid #f1f1f1;
    margin-bottom: 25px;
  }

  .registerbtn {
    background-color: #04AA6D;
    color: white;
    padding: 16px 20px;
    margin: 8px 0;
    border: none;
    cursor: pointer;
    width: 100%;
    opacity: 0.9;
  }

  .registerbtn:hover {
    opacity: 1;
  }

  .signin {
    background-color: #f1f1f1;
    text-align: center;
  }

  #message {
    display: none;
    background: #f1f1f1;
    color: #000;
    position: relative;
    padding: 20px;
    margin-top: 10px;
  }

  #message p {
    padding: 10px 35px;
    font-size: 18px;
  }

  .valid {
    color: green;
  }

  .valid:before {
    position: relative;
    left: -35px;
    content: "✔";
  }

  .invalid {
    color: red;
  }

  .invalid:before {
    position: relative;
    left: -35px;
    content: "✖";
  }
</style>

<form method="POST">
  <div class="container">
    <h1>Sign Up</h1>
    <p>Please fill in this form to create an account.</p>
    <hr>

    <label for="email"><b>Email</b></label>
    <input type="email" placeholder="Enter Email" name="email" id="email" required>

    <label for="firstName"><b>First Name</b></label>
    <input type="text" placeholder="Enter First Name" name="firstName" id="firstName" required>

    <label for="password1"><b>Password</b></label>
    <input
      type="password"
      placeholder="Enter Password"
      name="password1"
      id="psw"
      pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
      title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
      required
    />

    <div id="message">
      <h3>Password must contain the following:</h3>
      <p id="letter" class="invalid">A <b>Lowercase</b> letter</p>
      <p id="capital" class="invalid">A <b>Capital (uppercase)</b> letter</p>
      <p id="number" class="invalid">A <b>Number</b></p>
      <p id="length" class="invalid">Minimum <b>8 characters</b></p>
    </div>

    <label for="password2"><b>Confirm Password</b></label>
    <input type="password" placeholder="Repeat Password" name="password2" id="psw-repeat" required>

    <hr>
    <p>By creating an account you agree to our <a href="#">Terms & Privacy</a>.</p>

    <button type="submit" class="registerbtn">Register</button>
  </div>

  <div class="container signin">
    <p>Already have an account? <a href="/login">Log in</a>.</p>
  </div>
</form>

<script>
  var myInput = document.getElementById("psw");
  var letter = document.getElementById("letter");
  var capital = document.getElementById("capital");
  var number = document.getElementById("number");
  var length = document.getElementById("length");

  myInput.onfocus = function () {
    document.getElementById("message").style.display = "block";
  };

  myInput.onblur = function () {
    document.getElementById("message").style.display = "none";
  };

  myInput.onkeyup = function () {
    var lowerCaseLetters = /[a-z]/g;
    letter.className = myInput.value.match(lowerCaseLetters) ? "valid" : "invalid";

    var upperCaseLetters = /[A-Z]/g;
    capital.className = myInput.value.match(upperCaseLetters) ? "valid" : "invalid";

    var numbers = /[0-9]/g;
    number.className = myInput.value.match(numbers) ? "valid" : "invalid";

    length.className = myInput.value.length >= 8 ? "valid" : "invalid";
  };
</script>
{% endblock %}
